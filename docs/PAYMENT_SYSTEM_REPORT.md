# üéâ –ü–õ–ê–¢–ï–ñ–ù–ê–Ø –°–ò–°–¢–ï–ú–ê PAUL AZERBAIJAN - –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢

**–î–∞—Ç–∞:** 04.11.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï

---

## üìä –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### ‚úÖ 1. –ò–∑—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–ø–ª–∞—Ç
- –ò–∑—É—á–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω backend (Laravel + Algoritma API)
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω frontend (Next.js)
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ‚úÖ 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **AlgoritmaService**: 10/10 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ (100%)
- **PaymentController**: 11/11 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ (100%)
- **–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 21/21 —Ç–µ—Å—Ç (100% —É—Å–ø–µ—Ö)

### ‚úÖ 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö API –∫–ª—é—á–µ–π
**–î–æ:**
- API Key: `Zulfi` (–º–æ–∫–æ–≤—ã–π —Ä–µ–∂–∏–º)
- API Secret: `Zulfi01102025` (–º–æ–∫–æ–≤—ã–π)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: Mock –¥–∞–Ω–Ω—ã–µ

**–ü–æ—Å–ª–µ:**
- API Key: `Paul` (—Ä–µ–∞–ª—å–Ω—ã–π UID)
- API Secret: `+WlGb0xWlywRJn/tYT` (—Ä–µ–∞–ª—å–Ω—ã–π)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Algoritma API

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```
‚úÖ HTTP Status: 200 OK
‚úÖ –†–µ–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: {"message":"PONG!","date":"2025-11-04 16:10:47"}
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

### ‚úÖ 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
**–ü—Ä–æ–±–ª–µ–º–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–ª 500 –≤–º–µ—Å—Ç–æ 401/403

**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω `Handler.php`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `AuthenticationException` ‚Üí 401
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `AuthorizationException` ‚Üí 403

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã –æ—à–∏–±–æ–∫

### ‚úÖ 5. –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –æ–±—Ä–∞–∑—ã
- –û—á–∏—â–µ–Ω build cache
- –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å –Ω—É–ª—è
- –û–±–Ω–æ–≤–ª–µ–Ω Dockerfile —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### ‚úÖ 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –í—ã–ø–æ–ª–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ (29 –º–∏–≥—Ä–∞—Ü–∏–π)
- –°–æ–∑–¥–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (12 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –º–µ–Ω—é –∏–∑ iiko

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–õ–ê–¢–ï–ñ–ù–û–ô –°–ò–°–¢–ï–ú–´

### Backend (Laravel)

#### AlgoritmaService
- `createOrder()` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- `getOrderInfo()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ
- `checkPaymentStatus()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- `testConnection()` - —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `getTestCards()` - —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã

#### PaymentController
- `POST /api/payment/orders/{order}/create` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- `GET /api/payment/orders/{order}/info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `POST /api/payment/orders/{order}/success` - —É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
- `POST /api/payment/orders/{order}/failure` - –Ω–µ—É–¥–∞—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞
- `GET /api/payment/test-connection` - —Ç–µ—Å—Ç
- `GET /api/payment/test-cards` - —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã

#### Order Model
- `isPendingPayment()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- `canRetryPayment()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–∞ (–º–∞–∫—Å. 3)
- `incrementPaymentAttempts()` - —Å—á–µ—Ç—á–∏–∫ –ø–æ–ø—ã—Ç–æ–∫
- `updatePaymentStatus()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

### Frontend (Next.js)

#### –°—Ç—Ä–∞–Ω–∏—Ü—ã
- `/payment/[orderId]` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã
- `/payment/success/[orderId]` - —É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
- `/payment/failure/[orderId]` - –Ω–µ—É–¥–∞—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `BillingForm` - —Ñ–æ—Ä–º–∞ –±–∏–ª–ª–∏–Ω–≥–∞
- `CheckoutPage` - –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞

---

## üîê CREDENTIALS

### Algoritma Payment API
- **API Key (UID):** Paul
- **API Secret:** +WlGb0xWlywRJn/tYT
- **Base URL:** https://api.testalgoritma.az
- **Environment:** test
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω

### Merchant Portal (Web UI)
- **Login:** Zulfi
- **Password:** PeiNwAklqVyU
- **URL:** https://merchant.testalgoritma.az/v2/login

### iiko API
- **API Key:** e443a1d8f6f941eba3d92fbed30bdefd
- **Base URL:** https://api-ru.iiko.services
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω
- **–ú–µ–Ω—é:** ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ (Paul Port Baku)

---

## üë• –¢–ï–°–¢–û–í–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò

### –ü–µ—Ä—Å–æ–Ω–∞–ª (–∞–¥–º–∏–Ω–∫–∞)
| Email | Password | –†–æ–ª—å |
|-------|----------|------|
| admin@example.com | password123 | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä |
| coordinator2@example.com | password123 | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä |
| observer@example.com | password123 | –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å |
| observer2@example.com | password123 | –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å |

### –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
| Email | Password |
|-------|----------|
| rauf@company.com | password123 |
| maryam@techcorp.com | password123 |
| ruslan@innovate.az | password123 |

### –†–∞–∑–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã (—Å –æ–ø–ª–∞—Ç–æ–π)
| Email | Password |
|-------|----------|
| leyla@example.com | password123 |
| ayten@example.com | password123 |
| elvin@example.com | password123 |
| gunel@example.com | password123 |
| tofig@example.com | password123 |

---

## üí≥ –¢–ï–°–¢–û–í–´–ï –ö–ê–†–¢–´

| –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|------------|-----------|
| 4111111111111111 | ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ |
| 2222400060000007 | ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ |
| 4276990011343663 | ‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ |
| 5555555555555599 | ‚ö†Ô∏è –°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞ |
| 4276838748917319 | üîí 3-D Secure "Not enrolled" |
| 4000000000000002 | üö´ Fraud |

**CVV:** –ª—é–±—ã–µ 3 —Ü–∏—Ñ—Ä—ã  
**–°—Ä–æ–∫:** –ª—é–±–∞—è –±—É–¥—É—â–∞—è –¥–∞—Ç–∞

---

## üîÑ WORKFLOW –û–ü–õ–ê–¢–´

### –î–ª—è —Ä–∞–∑–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:

1. ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑
2. ‚úÖ –ó–∞–∫–∞–∑ –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `pending_payment`
3. ‚úÖ –ö–ª–∏–µ–Ω—Ç—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è email —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ–ø–ª–∞—Ç—É
4. ‚úÖ –ö–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ `/payment/{orderId}`
5. ‚úÖ –ù–∞–∂–∏–º–∞–µ—Ç "–û–ø–ª–∞—Ç–∏—Ç—å" ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–ª–∞—Ç–µ–∂ –≤ Algoritma
6. ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Payment Page Algoritma
7. ‚úÖ –ö–ª–∏–µ–Ω—Ç –≤–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã
8. ‚úÖ Algoritma –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–ª–∞—Ç–µ–∂
9. **–£—Å–ø–µ—Ö** ‚Üí `/payment/success/{orderId}` ‚Üí —Å—Ç–∞—Ç—É—Å `paid`
10. **–ù–µ—É–¥–∞—á–∞** ‚Üí `/payment/failure/{orderId}` ‚Üí –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å (–º–∞–∫—Å. 3 —Ä–∞–∑–∞)

---

## üöÄ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

### Docker –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –°—Ç–∞—Ç—É—Å | –ü–æ—Ä—Ç—ã |
|-----------|--------|-------|
| paul_nginx | ‚úÖ Up 3 hours | 80, 443, 8080 |
| paul_backend | ‚úÖ Up 2 hours | 80 (internal) |
| paul_frontend | ‚úÖ Up 3 hours | 3000 (internal) |
| paul_mysql | ‚úÖ Up 3 hours | 3306 |
| paul_redis | ‚úÖ Up 3 hours | 6379 |
| paul_queue | ‚úÖ Up 3 hours | - |

### API Endpoints
- ‚úÖ Backend API: http://localhost/api
- ‚úÖ Frontend: http://localhost
- ‚úÖ MySQL: localhost:3306

### –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ Algoritma API: –ü–æ–¥–∫–ª—é—á–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π: –†–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: –†–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –†–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Rate limiting: –ù–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞

---

## üìù –ß–¢–û –ì–û–¢–û–í–û

1. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Algoritma Payment API
2. ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã
3. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (21/21)
4. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
5. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã
6. ‚úÖ –ú–µ–Ω—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ iiko
7. ‚úÖ Docker –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
8. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
9. ‚úÖ Handler –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã
10. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

---

## üéØ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö PRODUCTION

### –î–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è: ‚úÖ 100% –ì–û–¢–û–í–û
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏

### –î–ª—è production:
**–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ:**
1. –ò–∑–º–µ–Ω–∏—Ç—å `ALGORITMA_BASE_URL` –Ω–∞ `https://api.algoritma.az`
2. –ò–∑–º–µ–Ω–∏—Ç—å `ALGORITMA_ENVIRONMENT` –Ω–∞ `production`
3. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É–∂–µ –≥–æ—Ç–æ–≤–æ!

---

## üìû SUPPORT

### Algoritma Support
- Email: support@algoritma.az
- Website: https://algoritma.az
- Merchant Portal: https://merchant.testalgoritma.az/v2/login

### iiko Support
- Website: https://api-ru.iiko.services
- API Key –∞–∫—Ç–∏–≤–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ PAUL Azerbaijan –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Algoritma
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å iiko
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ Docker –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏! üöÄ**

---

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 04.11.2025*  
*–í–µ—Ä—Å–∏—è: 1.0*


