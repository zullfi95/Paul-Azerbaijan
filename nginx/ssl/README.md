# SSL Certificates

## üìã –î–ª—è Production

–î–æ–±–∞–≤—å—Ç–µ –≤ —ç—Ç—É –ø–∞–ø–∫—É SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:

- **cert.pem** - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á)
- **key.pem** - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

---

## üîê –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: Let's Encrypt (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt-get update
sudo apt-get install certbot

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è paul.az
sudo certbot certonly --standalone -d paul.az -d www.paul.az

# –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –±—É–¥—É—Ç –≤:
# /etc/letsencrypt/live/paul.az/fullchain.pem ‚Üí cert.pem
# /etc/letsencrypt/live/paul.az/privkey.pem ‚Üí key.pem

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç
sudo cp /etc/letsencrypt/live/paul.az/fullchain.pem ./cert.pem
sudo cp /etc/letsencrypt/live/paul.az/privkey.pem ./key.pem
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

–ö—É–ø–∏—Ç–µ —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Sectigo, DigiCert) –∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã –∑–¥–µ—Å—å.

---

## ‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í–∞–∂–Ω–æ:**
- –î–æ–±–∞–≤—å—Ç–µ `ssl/` –≤ `.gitignore` —á—Ç–æ–±—ã –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏!
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `chmod 600 *.pem`
- –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –∫–ª—é—á–æ–º!

---

## üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Let's Encrypt)

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã Let's Encrypt –¥–µ–π—Å—Ç–≤—É—é—Ç 90 –¥–Ω–µ–π. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
0 0 1 * * certbot renew --quiet && docker restart paul_nginx
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:

1. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤ `conf.d/default.conf` (—Å—Ç—Ä–æ–∫–∏ 7-9)
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx:
   ```bash
   docker restart paul_nginx
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL: https://www.ssllabs.com/ssltest/

